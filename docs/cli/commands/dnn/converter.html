
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="canonical" href="https://softneuro.morphoinc.com/cli/commands/dnn/converter.html">
      
      <link rel="icon" href="../../images/favicon.ico">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-7.2.1">
    
    
      
        <title>Model Conversion - SoftNeuro&reg; v5.1.0 CLI Tool Manual</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.1118c9be.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ba0d045b.min.css">
        
          
          
          <meta name="theme-color" content="#02a6f2">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:300,400,400i,700%7CUbuntu+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Ubuntu";--md-code-font-family:"Ubuntu Mono"}</style>
      
    
    
    
      <link rel="stylesheet" href="../../custom.css">
    
    
  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-NWCL6GG');</script>
  <!-- End Google Tag Manager -->

    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="light-blue" data-md-color-accent="red">
  
    
    <script>function __prefix(e){return new URL("../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#model-conversion" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
  
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../index.html" title="SoftNeuro&amp;reg; v5.1.0 CLI Tool Manual" class="md-header__button md-logo" aria-label="SoftNeuro&reg; v5.1.0 CLI Tool Manual" data-md-component="logo">
      
  <img src="../../images/headicon.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            SoftNeuro&reg; v5.1.0 CLI Tool Manual
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Model Conversion
            
          </span>
        </div>
      </div>
    </div>
    
    
      <div class="md-header__option">
        <div class="md-select">
          
          <button class="md-header__button md-icon" aria-label="Select language">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12.87 15.07-2.54-2.51.03-.03A17.52 17.52 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04M18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12m-2.62 7 1.62-4.33L19.12 17h-3.24z"/></svg>
          </button>
          <div class="md-select__inner">
            <ul class="md-select__list">
              
                <li class="md-select__item">
                  <a href="converter.html" hreflang="en" class="md-select__link">
                    English
                  </a>
                </li>
                
                <li class="md-select__item">
                  <a href="converter.ja.html" hreflang="ja" class="md-select__link">
                    日本語
                  </a>
                </li>
                
            </ul>
          </div>
        </div>
      </div>
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
  
  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NWCL6GG"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->

    <div class="md-container" data-md-component="container">
      
      
        
          
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../../../index.html" class="md-tabs__link">
      Overview
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../../c/index.html" class="md-tabs__link">
      C API (English)
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../../python/index.html" class="md-tabs__link">
      Python API (English)
    </a>
  </li>

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../index.html" class="md-tabs__link md-tabs__link--active">
        CLI
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../index.html" title="SoftNeuro&amp;reg; v5.1.0 CLI Tool Manual" class="md-nav__button md-logo" aria-label="SoftNeuro&reg; v5.1.0 CLI Tool Manual" data-md-component="logo">
      
  <img src="../../images/headicon.svg" alt="logo">

    </a>
    SoftNeuro&reg; v5.1.0 CLI Tool Manual
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../index.html" class="md-nav__link">
        Overview
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../c/index.html" class="md-nav__link">
        C API (English)
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../python/index.html" class="md-nav__link">
        Python API (English)
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" checked>
      
      <label class="md-nav__link" for="__nav_4">
        CLI
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="CLI" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          CLI
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../index.html" class="md-nav__link">
        Overview
      </a>
    </li>
  

          
            
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_2" type="checkbox" id="__nav_4_2" checked>
      
      <label class="md-nav__link" for="__nav_4_2">
        CLI Command Usage
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="CLI Command Usage" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_2">
          <span class="md-nav__icon md-icon"></span>
          CLI Command Usage
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../command-list.html" class="md-nav__link">
        SoftNeuro command list
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../general/general.html" class="md-nav__link">
        General Commands
      </a>
    </li>
  

          
            
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_2_3" type="checkbox" id="__nav_4_2_3" checked>
      
      <label class="md-nav__link" for="__nav_4_2_3">
        DNN Operation Commands
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="DNN Operation Commands" data-md-level="3">
        <label class="md-nav__title" for="__nav_4_2_3">
          <span class="md-nav__icon md-icon"></span>
          DNN Operation Commands
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="referer.html" class="md-nav__link">
        Model Information
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="editor.html" class="md-nav__link">
        Model Editing
      </a>
    </li>
  

          
            
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Model Conversion
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="converter.html" class="md-nav__link md-nav__link--active">
        Model Conversion
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#about-preprocess-postprocess" class="md-nav__link">
    About preprocess, postprocess
  </a>
  
    <nav class="md-nav" aria-label="About preprocess, postprocess">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#preprocess-specification" class="md-nav__link">
    Preprocess specification
  </a>
  
    <nav class="md-nav" aria-label="Preprocess specification">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#layers" class="md-nav__link">
    layers
  </a>
  
    <nav class="md-nav" aria-label="layers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#source-layer" class="md-nav__link">
    Source Layer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sink-layer" class="md-nav__link">
    Sink Layer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#permute-layer" class="md-nav__link">
    Permute Layer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#madd-layer" class="md-nav__link">
    Madd Layer
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#preprocess-example" class="md-nav__link">
    preprocess example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#postprocess-specification" class="md-nav__link">
    Postprocess specification
  </a>
  
    <nav class="md-nav" aria-label="Postprocess specification">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#layers_1" class="md-nav__link">
    layers
  </a>
  
    <nav class="md-nav" aria-label="layers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#source-layer_1" class="md-nav__link">
    Source Layer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sink-layer_1" class="md-nav__link">
    Sink Layer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#decode-layer" class="md-nav__link">
    Decode Layer
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#postprocess-example" class="md-nav__link">
    postprocess example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import-onnx" class="md-nav__link">
    import-onnx
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import-tensorflow" class="md-nav__link">
    import-tensorflow
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import-ver3" class="md-nav__link">
    import-ver3
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../prof-tune/prof-tune.html" class="md-nav__link">
        Run and Profiling Commands
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../layer-routine/layer-routine.html" class="md-nav__link">
        Layer/Routine Operation Commands
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../numpy/numpy.html" class="md-nav__link">
        numpy Tensor Operation Commands
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../routine-descriptor.html" class="md-nav__link">
        Routine Descriptor
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial.html" class="md-nav__link">
        Tutorial
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#about-preprocess-postprocess" class="md-nav__link">
    About preprocess, postprocess
  </a>
  
    <nav class="md-nav" aria-label="About preprocess, postprocess">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#preprocess-specification" class="md-nav__link">
    Preprocess specification
  </a>
  
    <nav class="md-nav" aria-label="Preprocess specification">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#layers" class="md-nav__link">
    layers
  </a>
  
    <nav class="md-nav" aria-label="layers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#source-layer" class="md-nav__link">
    Source Layer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sink-layer" class="md-nav__link">
    Sink Layer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#permute-layer" class="md-nav__link">
    Permute Layer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#madd-layer" class="md-nav__link">
    Madd Layer
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#preprocess-example" class="md-nav__link">
    preprocess example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#postprocess-specification" class="md-nav__link">
    Postprocess specification
  </a>
  
    <nav class="md-nav" aria-label="Postprocess specification">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#layers_1" class="md-nav__link">
    layers
  </a>
  
    <nav class="md-nav" aria-label="layers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#source-layer_1" class="md-nav__link">
    Source Layer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sink-layer_1" class="md-nav__link">
    Sink Layer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#decode-layer" class="md-nav__link">
    Decode Layer
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#postprocess-example" class="md-nav__link">
    postprocess example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import-onnx" class="md-nav__link">
    import-onnx
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import-tensorflow" class="md-nav__link">
    import-tensorflow
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import-ver3" class="md-nav__link">
    import-ver3
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="model-conversion">Model Conversion<a class="headerlink" href="#model-conversion" title="Permanent link">&para;</a></h1>
<p>Commands for converting model files from various frameworks into the SoftNeuro DNN file format.</p>
<h2 id="about-preprocess-postprocess"><strong>About preprocess, postprocess</strong><a class="headerlink" href="#about-preprocess-postprocess" title="Permanent link">&para;</a></h2>
<p>In SoftNeuro preprocess and postprocess are separate networks attached to the beginning and to the end
of the main network, respectively.
These networks can be attached as a json file when converting a model. There's a preset json file, but it can be changed for custom settings.</p>
<p>Currently, adding preprocess and postprocess networks is only available for <code>import-onnx</code> and <code>import-tensorflow</code>, and not available for <code>import-ver3</code>.</p>
<h3 id="preprocess-specification"><u><strong>Preprocess specification</strong></u><a class="headerlink" href="#preprocess-specification" title="Permanent link">&para;</a></h3>
<p>The preprocess network can be used for resizing images, specifying resize mode, specifying color format, normalizing data, and so on.
Descriptions of each element in preprocess is below.</p>
<h4 id="layers"><u><strong>layers</strong></u><a class="headerlink" href="#layers" title="Permanent link">&para;</a></h4>
<p>Each layer consists of four elements: type, params, weights, and attrs.</p>
<table>
<thead>
<tr>
<th>Properties</th>
<th>Required</th>
<th>Description</th>
<th>Type</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td>type</td>
<td>Mandatory</td>
<td>String specifying the layer type. source, sink, madd, permute, can be specified.</td>
<td>String</td>
<td>"madd"</td>
</tr>
<tr>
<td>params</td>
<td>Optional</td>
<td>JSON object specifying layer parameters.</td>
<td>Object</td>
<td><a href="#preprocess-example">example</a></td>
</tr>
<tr>
<td>weights</td>
<td>Optional</td>
<td>JSON object specifying leyer weights.</td>
<td>Object</td>
<td><a href="#preprocess-example">example</a></td>
</tr>
<tr>
<td>attrs</td>
<td>Optional</td>
<td>JSON object specifying layer attributes.</td>
<td>Object</td>
<td><a href="#preprocess-example">example</a></td>
</tr>
</tbody>
</table>
<h5 id="source-layer"><u><strong>Source Layer</strong></u><a class="headerlink" href="#source-layer" title="Permanent link">&para;</a></h5>
<p>Input layer of the network.</p>
<ul>
<li>params</li>
</ul>
<table>
<thead>
<tr>
<th>Properties</th>
<th>Required</th>
<th>Description</th>
<th>Type</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td>shape</td>
<td>Mandatory</td>
<td>Array of integer specifying the shape of the input data.</td>
<td>Array of Integer</td>
<td>[224, 224, 3]</td>
</tr>
</tbody>
</table>
<ul>
<li>weights: None</li>
<li>attrs</li>
</ul>
<table>
<thead>
<tr>
<th>Properties</th>
<th>Required</th>
<th>Description</th>
<th>Type</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td>format</td>
<td>Optional</td>
<td>String specifying the color format of the input image. Only "rgb" can be specified.</td>
<td>String</td>
<td>"rgb"</td>
</tr>
<tr>
<td>resize_mode</td>
<td>Optional</td>
<td>String specifying the resize mode. "bilinear" (default) or "nearest" can be specified.</td>
<td>String</td>
<td>"bilinear"</td>
</tr>
<tr>
<td>keep_ar</td>
<td>Optional</td>
<td>Boolean specifying whether or not to keep aspect ratio when resizing. Default is false.</td>
<td>Boolean</td>
<td>true</td>
</tr>
<tr>
<td>padding_color</td>
<td>Optional</td>
<td>Array of numbers specifying the padding color filling the margin space when resizing.</td>
<td>Array of Numbers</td>
<td>[255, 255, 255]</td>
</tr>
</tbody>
</table>
<h5 id="sink-layer"><strong><u>Sink Layer</u></strong><a class="headerlink" href="#sink-layer" title="Permanent link">&para;</a></h5>
<p>Output layer of the network.</p>
<ul>
<li>params: None</li>
<li>weights: None</li>
<li>attrs: None</li>
</ul>
<h5 id="permute-layer"><strong><u>Permute Layer</u></strong><a class="headerlink" href="#permute-layer" title="Permanent link">&para;</a></h5>
<p>Permutes the data order in the specified axis. Commonly used for channel-swapping.</p>
<ul>
<li>params</li>
</ul>
<table>
<thead>
<tr>
<th>Properties</th>
<th>Required</th>
<th>Description</th>
<th>Type</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td>axis</td>
<td>Mandatory</td>
<td>Integer specifying the axis to be permuted.</td>
<td>Integer</td>
<td>2</td>
</tr>
<tr>
<td>order</td>
<td>Mandatory</td>
<td>Array of integers containing the original positions ordered by their new indexes.</td>
<td>Array of Integer</td>
<td>[2, 1, 0]</td>
</tr>
</tbody>
</table>
<ul>
<li>weights: None</li>
<li>attrs: None</li>
</ul>
<h5 id="madd-layer"><strong><u>Madd Layer</u></strong><a class="headerlink" href="#madd-layer" title="Permanent link">&para;</a></h5>
<p>Multiply add (scale * x + bias) layer. Commonly used for normalization of input data, subtraction of mean, and so on.</p>
<ul>
<li>params</li>
</ul>
<table>
<thead>
<tr>
<th>Properties</th>
<th>Required</th>
<th>Description</th>
<th>Type</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td>has_relu</td>
<td>Optional</td>
<td>Boolean specifying whether or not to execute Relu activation. Default is False.</td>
<td>Boolean</td>
<td>False</td>
</tr>
<tr>
<td>relu_max_value</td>
<td>Optional</td>
<td>Max output value after Relu activation. Only valid when has_relu is True.</td>
<td>Number</td>
<td>6.0</td>
</tr>
</tbody>
</table>
<ul>
<li>weights</li>
</ul>
<table>
<thead>
<tr>
<th>Properties</th>
<th>Required</th>
<th>Description</th>
<th>Type</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td>scale</td>
<td>Mandatory</td>
<td>Number or array of numbers by which the input data is multiplied. Must be array if different value is specified for each channel. Must have the same number of elements as bias.</td>
<td>Number or Array of Number</td>
<td>[0.01712475383, 0.0175070028, 0.01742919389]</td>
</tr>
<tr>
<td>bias</td>
<td>Mandatory</td>
<td>Number or array of numbers, to be added to the input data. Must be array if different value is specified for each channel. Must have the same number of elements as scale.</td>
<td>Number or Array of Number</td>
<td>[2.11790393013, 2.03571428571, 1.80444444444]</td>
</tr>
</tbody>
</table>
<ul>
<li>attrs: None</li>
</ul>
<h4 id="preprocess-example"><u><strong>preprocess example</strong></u><a class="headerlink" href="#preprocess-example" title="Permanent link">&para;</a></h4>
<pre><code>[
    {
        &quot;name&quot;: &quot;preprocess&quot;,
        &quot;layers&quot;: [
            {
                &quot;type&quot;: &quot;source&quot;,
                &quot;params&quot;: {
                    &quot;shape&quot;: [
                        1,
                        320,
                        320,
                        3
                    ]
                },
                &quot;attrs&quot;: {
                    &quot;format&quot;: &quot;rgb&quot;,
                    &quot;attrs&quot;: {
                        &quot;format&quot;: &quot;rgb&quot;,
                        &quot;resize_mode&quot;: &quot;bilinear&quot;,
                        &quot;keep_ar&quot;: true,
                        &quot;padding_clor&quot;: [
                            0,
                            0,
                            0
                        ]
                    }
                }
            },
            {
                &quot;type&quot;: &quot;permute&quot;,
                &quot;params&quot;: {
                    &quot;axis&quot;: 3,
                    &quot;dims&quot;: [
                        2,
                        1,
                        0
                    ]
                }
            },
            {
                &quot;type&quot;: &quot;madd&quot;,
                &quot;weights&quot;: {
                    &quot;scale&quot;: [
                        0.0135694,
                        0.0143123,
                        0.0141064
                    ],
                    &quot;bias&quot;: [
                        -1.41176,
                        -1.63139,
                        -1.69065
                    ]
                }
            },
            {
                &quot;type&quot;: &quot;sink&quot;
            }
        ]
    }
]
</code></pre>
<h3 id="postprocess-specification"><u><strong>Postprocess specification</strong></u><a class="headerlink" href="#postprocess-specification" title="Permanent link">&para;</a></h3>
<p>The postprocess network can be used for labeling outputs, specifying the decoding type for tasks such as Object detection, and so on.
Descriptions of each element in postprocess is below.</p>
<h4 id="layers_1"><u><strong>layers</strong></u><a class="headerlink" href="#layers_1" title="Permanent link">&para;</a></h4>
<p>Each layer consists of four elements, type, params, weights, and attrs.  </p>
<table>
<thead>
<tr>
<th>Properties</th>
<th>Required</th>
<th>Description</th>
<th>Type</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td>type</td>
<td>Mandatory</td>
<td>String specifying the layer type. source, sink, decode_centernet, decode_pelee, decode_ssd, decode_yolov3, decode_yolov4 can be specified.</td>
<td>String</td>
<td>"decode_ssd"</td>
</tr>
<tr>
<td>params</td>
<td>Optional</td>
<td>JSON object specifying layer parameters.</td>
<td>Object</td>
<td><a href="#postprocess-example">example</a></td>
</tr>
<tr>
<td>weights</td>
<td>Optional</td>
<td>JSON object specifying leyer weights.</td>
<td>Object</td>
<td><a href="#postprocess-example">example</a></td>
</tr>
<tr>
<td>attrs</td>
<td>Optional</td>
<td>JSON object specifying layer attributes.</td>
<td>Object</td>
<td><a href="#postprocess-example">example</a></td>
</tr>
</tbody>
</table>
<h5 id="source-layer_1"><u><strong>Source Layer</strong></u><a class="headerlink" href="#source-layer_1" title="Permanent link">&para;</a></h5>
<p>Input layer of the network.</p>
<ul>
<li>params</li>
</ul>
<table>
<thead>
<tr>
<th>Properties</th>
<th>Required</th>
<th>Description</th>
<th>Type</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td>shape</td>
<td>Mandatory</td>
<td>Array of integers specifying the shape of the input data.</td>
<td>Array of Integer</td>
<td>[224, 224, 3]</td>
</tr>
</tbody>
</table>
<ul>
<li>weights: None</li>
<li>attrs: None</li>
</ul>
<h5 id="sink-layer_1"><strong><u>Sink Layer</u></strong><a class="headerlink" href="#sink-layer_1" title="Permanent link">&para;</a></h5>
<p>Output layer of the network.</p>
<ul>
<li>params: None</li>
<li>weights: None</li>
<li>attrs</li>
</ul>
<table>
<thead>
<tr>
<th>Properties</th>
<th>Required</th>
<th>Description</th>
<th>Type</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td>label_list</td>
<td>Optional</td>
<td>Array of strings representing output labels.</td>
<td>Array of String</td>
<td>["cat", "dog", "bird"]</td>
</tr>
</tbody>
</table>
<h5 id="decode-layer"><strong><u>Decode Layer</u></strong><a class="headerlink" href="#decode-layer" title="Permanent link">&para;</a></h5>
<p>Executes decode operation for Object Detection task.
decode_centernet, decode_pelee, decode_ssd, decode_yolov3, decode_yolov4 can be specified for type.</p>
<ul>
<li>params</li>
</ul>
<table>
<thead>
<tr>
<th>Properties</th>
<th>Required</th>
<th>Description</th>
<th>Type</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td>keep_top_k</td>
<td>centernet, pelee, ssd, yolov3, yolov4</td>
<td>Integer specifying the number of bounding boxes. Bounding box is selected in descending order of score. Default is 300.</td>
<td>Integer</td>
<td>300</td>
</tr>
<tr>
<td>do_nms</td>
<td>centernet, pelee, ssd, yolov3, yolov4</td>
<td>Boolean specifying whether or not to execute NMS (Non-Maximum Suppression). Default is true.</td>
<td>Boolean</td>
<td>true</td>
</tr>
<tr>
<td>nms_thresh</td>
<td>centernet, pelee, ssd, yolov3, yolov4</td>
<td>IoU threshold for NMS.</td>
<td>Float</td>
<td>0.5</td>
</tr>
<tr>
<td>conf_thresh</td>
<td>centernet, pelee, ssd, yolov3, yolov4</td>
<td>Confidence threshold for detecting bounding boxes.</td>
<td>Float</td>
<td>0.3</td>
</tr>
<tr>
<td>background_label_id</td>
<td>pelee, ssd</td>
<td>Label number of background. Default is 0.</td>
<td>Integer</td>
<td>0</td>
</tr>
<tr>
<td>img_width</td>
<td>yolov3</td>
<td>Width of input image.</td>
<td>Integer</td>
<td>416</td>
</tr>
<tr>
<td>img_height</td>
<td>yolov3</td>
<td>Height of input image.</td>
<td>Integer</td>
<td>416</td>
</tr>
<tr>
<td>num_anchors_per_out</td>
<td>yolov3</td>
<td>Number of anchor boxes for each grid cell.</td>
<td>Integer</td>
<td>3</td>
</tr>
<tr>
<td>anchors</td>
<td>yolov3</td>
<td>Array of numbers representing the size of anchor boxes. [w1, h1, w2, w3, ...]</td>
<td>Float array</td>
<td>[10,13,  16,30]</td>
</tr>
</tbody>
</table>
<ul>
<li>weights: None</li>
<li>attrs: None</li>
</ul>
<h4 id="postprocess-example"><u><strong>postprocess example</strong></u><a class="headerlink" href="#postprocess-example" title="Permanent link">&para;</a></h4>
<pre><code>[
  {
      &quot;name&quot;: &quot;postprocess&quot;,
      &quot;layers&quot;: [
        {
            &quot;name&quot;: &quot;input&quot;,
            &quot;type&quot;: &quot;source&quot;,
        &quot;params&quot;: {
            &quot;shape&quot;:[1, 300, 15]
        }
        },
        {
            &quot;name&quot;: &quot;decode&quot;,
            &quot;type&quot;: &quot;decode_ssd&quot;,
            &quot;params&quot;: {
          &quot;keep_top_k&quot; : 300,
          &quot;background_label_id&quot; : 0,
          &quot;nms_thresh&quot; : 0.45,
          &quot;conf_thresh&quot; : 0.01
        }
        },
        {
              &quot;name&quot;: &quot;output&quot;,
              &quot;type&quot;: &quot;sink&quot;
        }
      ]
  }
]
</code></pre>
<h2 id="import-onnx"><strong>import-onnx</strong><a class="headerlink" href="#import-onnx" title="Permanent link">&para;</a></h2>
<p>Convert an ONNX model to DNN.</p>
<p><u><strong>Usage</strong></u></p>
<pre><code>softneuro import-onnx [--naive] [--extract]
                       [--preprocess_json PREPROCESS_JSON]
                       [--postprocess_json POSTPROCESS_JSON] [--help]
                       INPUT OUTPUT
</code></pre>
<p><u><strong>Arguments</strong></u>  </p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>INPUT</td>
<td>ONNX model file to be converted.</td>
</tr>
<tr>
<td>OUTPUT</td>
<td>Resulting DNN file path.<br>If the extract flag is used, this is the folder where the model JSON will be saved.</td>
</tr>
<tr>
<td>--preprocess_json PREPROCESS_JSON</td>
<td>A json file specified when preprocess is added to DNN model.</td>
</tr>
<tr>
<td>--postprocess_json POSTPROCESS_JSON</td>
<td>A json file specified when postprocess is added to DNN model.</td>
</tr>
</tbody>
</table>
<p><u><strong>Flags</strong></u>    </p>
<table>
<thead>
<tr>
<th>Flag</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>--naive</td>
<td>Save the DNN file without FuseRelu-type optimization.</td>
</tr>
<tr>
<td>--extract</td>
<td>Save the model information as a JSON file.</td>
</tr>
<tr>
<td>--help  　</td>
<td>Shows the command help.</td>
</tr>
</tbody>
</table>
<p><u><strong>Example</strong></u><br />
After the model is converted the mobilenet_v2.dnn file will be created.</p>
<pre><code>$ softneuro import-onnx mobilenet_v2.onnx mobilenet_v2.dnn
import model
converting initializers: done
converting nodes: done
rectify model
optimize model
save model
</code></pre>
<h2 id="import-tensorflow"><strong>import-tensorflow</strong><a class="headerlink" href="#import-tensorflow" title="Permanent link">&para;</a></h2>
<p>Convert a TensorFlow model to DNN.</p>
<p><u><strong>Usage</strong></u>  </p>
<pre><code>softneuro import-tensorflow [-h] [--keras] [--list-keras] [--naive] [--extract] [--preprocess_json PREPROCESS_JSON] [--postprocess_json POSTPROCESS_JSON] [--output_attrs OUTPUT_ATTRS]
                           [--input_node [INPUT_NODE_NAME]] [--input_shape [INPUT_SHAPE]] [--output_node [OUTPUT_NODE_NAME]] [--fix_shape_inf]
                           INPUT OUTPUT
</code></pre>
<p><u><strong>Arguments</strong></u>  </p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>INPUT</td>
<td>Protocol buffer(.pb) or hdf5 format model file. <br>For hdf5, not only weights but also the model structure is needed.</td>
</tr>
<tr>
<td>OUTPUT</td>
<td>Resulting DNN file path.<br>If the extract flag is used, this is the folder where the model JSON will be saved.</td>
</tr>
</tbody>
</table>
<p><u><strong>Flags</strong></u>  </p>
<table>
<thead>
<tr>
<th>Flag</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>--keras</td>
<td>It's possible to convert a model from <a href="https://keras.io/applications/#_1" target="_blank_">tf.keras.applications pretrained models</a> by inputting the model name.</td>
</tr>
<tr>
<td>--list-keras</td>
<td>Show the list of avalilable model names for <code>--keras</code> option.</td>
</tr>
<tr>
<td>--naive</td>
<td>Save the DNN file without FuseRelu-type optimization.</td>
</tr>
<tr>
<td>--extract</td>
<td>Save the model information as a JSON file.</td>
</tr>
<tr>
<td>--preprocess_json PREPROCESS_JSON</td>
<td>A json file containing a preprocess network definition to be added to the DNN model.</td>
</tr>
<tr>
<td>--postprocess_json POSTPROCESS_JSON</td>
<td>A json file containing a postprocess network definition to be added to the DNN model.</td>
</tr>
<tr>
<td>--output_attrs OUTPUT_ATTRS</td>
<td>A JSON containing the output attributes (output labels), or a preset name.</td>
</tr>
<tr>
<td>--input_node [INPUT_NODE]</td>
<td>Model input node name.</td>
</tr>
<tr>
<td>--input_shape [SHAPE]</td>
<td>Model input shape.</td>
</tr>
<tr>
<td>--output_node [OUTPUT_NODE]</td>
<td>Model output node name.</td>
</tr>
<tr>
<td>--fix_shape_inf</td>
<td>turn off shape inference</td>
</tr>
<tr>
<td>-h, --help  　</td>
<td>Shows the command help.</td>
</tr>
</tbody>
</table>
<p><u><strong>Example</strong></u><br />
After the model is converted the vgg16.dnn file will be created.</p>
<pre><code>softneuro import-tensorflow vgg16.pb vgg16.dnn
</code></pre>
<h2 id="import-ver3"><strong>import-ver3</strong><a class="headerlink" href="#import-ver3" title="Permanent link">&para;</a></h2>
<p>Convert a SoftNeuro V3 DNN model file to a SoftNeuro V5 DNN model file.</p>
<p><u><strong>Usage</strong></u><br />
<code>softneuro import-ver3 [--naive] [--extract] [--help] INPUT OUTPUT</code></p>
<p><u><strong>Arguments</strong></u>  </p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>INPUT</td>
<td>V3 DNN file.</td>
</tr>
<tr>
<td>OUTPUT</td>
<td>Resulting DNN file path.<br>If the extract flag is used, this is the folder where the model JSON will be saved.</td>
</tr>
</tbody>
</table>
<p><u><strong>Flags</strong></u>  </p>
<table>
<thead>
<tr>
<th>Flag</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>--naive</td>
<td>Save the DNN file without FuseRelu-type optimization.</td>
</tr>
<tr>
<td>--extract</td>
<td>Save the model information as a JSON file.</td>
</tr>
<tr>
<td>--help  　</td>
<td>Shows the command help.</td>
</tr>
</tbody>
</table>
<p><u><strong>Example</strong></u>
After the model is converted the vgg16_v5 file will be created.</p>
<pre><code>softneuro import-ver3 vgg16_v3.dnn vgg16_v5.dnn
import model
rectify model
optimize model
save model
</code></pre>
                
              
              
                


              
            </article>
          </div>
        </div>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="editor.html" class="md-footer__link md-footer__link--prev" aria-label="Previous: Model Editing" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Model Editing
            </div>
          </div>
        </a>
      
      
        
        <a href="../prof-tune/prof-tune.html" class="md-footer__link md-footer__link--next" aria-label="Next: Run and Profiling Commands" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Run and Profiling Commands
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2021 <a href=https://www.morphoinc.com/ target="_blank"> Morpho, Inc.</a> All Rights Reserved.
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../../assets/javascripts/workers/search.53c85856.min.js", "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.716f8af4.min.js"></script>
      
    
  </body>
</html>